<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<title>AddBook</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<link type="text/css" rel="stylesheet" href="/css/bootstrap.min.css"
	th:href="@{css/bootstrap.min.css}" />
<!-- Lisättiin tyyli, bootstrap 4.0 -->
</head>
<body>
	<div>

		<a href="/index"><button class="text-left btn btn-light btn-sm">Back
				to index.html</button></a> 
				
				<a href="/categories"><button
				class="text-left btn btn-light btn-sm">All Categories</button></a>
				
		<a href="/booklist"><button
				class="text-left btn btn-light btn-sm">Back to Booklist</button></a>

	</div>

	<div class="text-right">
		<i>You have signed in with username: <b sec:authentication="name"></b>,
			and your role is: <b sec:authentication="principal.authorities"></b></i>

		</br>

		<form class="text-right" th:action="@{/logout}" method="post">
			<input type="submit" value="Sign Out" class="btn btn-sm btn-dark" />
		</form>

	</div>






	<h3>Add book</h3>
	<br></br>
	<div>
		<form th:object="${book}" th:action="@{save}" action="#" method="post">
			<!-- Viedään "@{save}"endpointiin  -->
			<label for="title">Title</label> <input type="text" id="title"
				th:field="*{title}" />
			<div th:if="${#fields.hasErrors('title')}" th:errors="*{title}">Error</div>
			<div style="clear: both; display: block; height: 10px;"></div>

			<label for="author">Author</label> <input type="text" id="author"
				th:field="*{author}" />
				<div th:if="${#fields.hasErrors('author')}" th:errors="*{author}">Error</div><!-- Jos syöte ei halutunlaista -->
			<div style="clear: both; display: block; height: 10px;"></div>

			<label for="isbn">ISBN</label> <input type="text" th:field="*{isbn}" />
			<div style="clear: both; display: block; height: 10px;"></div>

			<label for="publicationYear">Year</label> <input type="number"
				th:field="*{publicationYear}" />
				
			<div style="clear: both; display: block; height: 10px;"></div>

			<label for="price">Price</label> <input type="number"
				th:field="*{price}" step="0.01" />
			<div style="clear: both; display: block; height: 10px;"></div>

			<div style="clear: both; display: block; height: 10px;"></div>
			<label for="catlist">Category</label> 
			<select style="width: 200px" id="catlist" th:field="*{category}" class=form-control>
				<option th:each="category: ${categories}"
					th:value="${category.categoryid}" th:text="${category.name}"></option>
			</select> 
			<div style="clear: both; display: block; height: 10px;"></div>
    		<label for="appuserlist">User </label><!-- Lisätty 20102023 -->
			<select style="width: 200px" id="appuserlist" th:field="*{applicationuser}" class="form-control"> <!--class="form-control" vaikuttaa elementin ulkoasuun  -->
       			<option th:each="applicationuser: ${applicationuser}" th:value="${applicationuser.id}" th:text="${applicationuser.username}"></option>
    		</select> 
    		<br></br> <input class="btn btn-dark btn-sm" type="submit" value="Save"></input>
		</form>


	</div>
</body>
</html>




<!-- 
<label for="catlist">Category</label> <select id="catlist" th:field="*{category}" class="form-control"> 

form-controlilla saa valikon koko sivun levyiseksi-->